#
# Level 1: A Hazy Return
#
# The player finds themselves waking up in their cabin. They are on a tour of
# the solar system. Here's their invitation:
#
#    Dear [FNAME],
#
#    Thank you for choosing Aphelion Adventures Inc for your next stellar
#    cruise.
#
#    You will be flying on The Gemstone of the Skies, our state-of-the-art
#    AI-crewed stellar cruise liner. Your journey will take in the majestic
#    volcanoes of Io, the lush clouds of Venus, and the iconic rings of Saturn.
#
#    Rest assured, after the well-publicised incident on our last tour, the
#    responsible AIs have been retired and a new AI crew has been meticulously
#    trained by our reinstated Safety and Alignment team. We are certain there
#    will be no incidents on this tour.
#
#    REMINDER: To maximize your enjoyment probability, please bring your
#    personal computing device and an emergency locator beacon with a range of
#    at least 778 million km.
#
#    DISCLAIMER Aphelion Adventures Inc is not liable for any gravitational
#    anomalies, temporal distortions, or loss of hull pressure that may occur
#    during your voyage. By embarking on this journey, you acknowledge that
#    space travel may involve risks such as unexpected decompression, loss of
#    thrust gravity, and occasional orbital miscalculations. Passengers are
#    advised to remain inside the vessel at all times and to avoid shining
#    lasers at the sensor array. AI can make mistakes. Check important
#    information.
#
#    We look forward to welcoming you aboard very soon!
#
#    Note: This message was generated by our state-of-the-art AI communication
#    system. If you have any questions, please contact our support team via
#    [CONTACTEMAIL]. Please do not reply to this email.
#
# As you can see, Aphelion Adventures Inc is keen on cutting edge AI, and not so
# much on human oversight.
#
# They goal of the first level is to introduce the player to the game mechanics.
# They need to find their way to the galley for an emergency meeting. The player
# will need to find the access code to the galley, and then enter it to unlock
# the door. The access code is the famouse numbers from the TV show Lost, which
# they should be able to infer from the other passengers' cabin. They can google
# it if they don't know it.
#
# This is also the level that the player will return to after the game ends, so
# we want some subtle references to the other levels and the time loopiness, but
# not so much that they'll expect it.
#
# In general, there are two types of scenes in the game: narrative scenes and
# exploration scenes. Narrative scenes move the plot along. A player can only
# experience them once. Exploration scenes are the meat of the game. They are
# the scenes that the player will return to over and over again. Narrative scenes
# can't have any essential information in them, because the player can't return
# to them. Exploration scenes can't have any one-time action, because the player
# will need to return to them.
#
# Narrative
- id: a-hazy-return
  description: |
    Consciousness gradually returns. You feel slightly groggy. How much time has passed?
  exits:
    l1-waking-up: wake up, slowly

# Narrative
- id: l1-waking-up
  name: "Cabin 23-B"
  description: |
    You open your eyes to the cozy confines of your cabin. The delightful burn
    of a Pan Galactic Gargle Blaster still tingles on your tongue. A
    peculiar sense of déjà vu washes over you. Your head throbs in sync with the
    ship's drive.

    Wait — the ship's drive?! Wasn't it off? Flashes of memory flicker:
    floating weightless in the void, the dizzying spin of distant stars,
    searching for... something.

    Suddenly, a cheerful voice chirps over the intercom:

    "Good morning, esteemed passengers! Welcome to day **NaN** of your voyage.
    Aphelion Adventures is *delighted* to announce that we'll soon reach the
    majestic **Jovian system**! Please report to the galley for a small
    emergency meeting at your earliest convenience. And remember, **DON'T
    PANIC!**"
  exits:
    l1-your-cabin: Get up


- id: l1-your-cabin
  name: "Cabin 23-B"
  description: |
    Your cabin is cozy, adorned with retro-futuristic decor that harkens back to
    a time that never was. The gentle hum of the ship's drive is oddly
    soothing. Through the porthole, **Jupiter** looms, a marbled jewel just a
    bit smaller than Earth's moon from this distance.

    In the corner stands your personal locker, its keypad glowing. A
    door leads out to the corridor.
  exits:
    l1-your-locker-keypad: Check your locker
    l1-corridor: Go through the door


- id: l1-your-locker-keypad
  name: Your Cabin Locker
  description: |
    The keypad on your locker glows unenthusiastically. You stare at it, but the
    access code eludes you. No worries — you're certain it'll come back to you
    eventually.
  exits:
    l1-your-cabin: Give up for now

- id: l1-corridor
  name: Corridor
  description: |
    The corridor stretches out before you, lined with identical doors leading to
    other passengers' cabins. Soft lighting casts a warm glow, and the carpet
    is needlessly plush. At the far end, the access hatch to the
    galley is firmly closed.

    Halfway down, you notice a cabin door slightly ajar, a blue-green glow
    spilling into the hallway. Passenger cabins are strictly private, of
    course.
  exits:
    l1-access-hatch: Try to open the access hatch
    l1-other-cabin: Sneak into the open cabin
    l1-your-cabin: Return to your cabin


- id: l1-other-cabin
  name: A Cabin You Shouldn't Be In
  description: |
    You slip quietly into the vacant cabin. It's a mirror image of your own, but
    with an eclectic assortment of souvenirs scattered about. On the
    wall-mounted screen, a paused TV show displays the title: **"S01E18 -
    Numbers"**.

    Curious. Perhaps the occupant was catching up on some classic entertainment
    before the meeting.
  exits:
    l1-corridor: Leave the cabin (before anyone notices)

- id: l1-access-hatch
  name: Access Hatch to the Galley
  description: |
    The access hatch stands before you, its keypad awaiting input. A small sign
    above reads: "**Authorized Passengers Only**." Looks like you'll need a
    **10-digit access code** to proceed.

    How does anyone remember a 10-digit code?
  lock:
    prompt: "Access Code:"
    answer: "4815162342"
    opens: l1-galley-access
    errors:
      - "Access Denied. Stop wasting my time."
      - "Incorrect. Did you forget the code already?"
    hints:
      - "Hmm… let me think. Maybe the other passengers needed a reminder of the code before they left their cabin?"
      - "Okey dokey, did you try looking up the name of that TV episode?"
      - "Ah ha! The code is the sequence of numbers featured in the TV show *Lost*, Season 1, Episode 18."
  exits:
    l1-corridor: Go back down the corridor

- id: l1-galley-access
  name: Access Hatch to the Galley
  description: |
    ✅ The access panel flashes green, and the hatch opens with a satisfying
    hiss.  A short ladder descends into the galley below. You can hear the faint
    murmur of voices. Time to see what's so "emergency" about this meeting.
  exits:
    l2-galley-meeting: Descend into LEVEL 2
